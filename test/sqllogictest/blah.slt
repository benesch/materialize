query T multiline
EXPLAIN TYPED RAW PLAN FOR (VALUES (
  1 < ALL(SELECT * FROM (VALUES (1)) WHERE false),
  1 < ALL(VALUES (0)),
  1 < ALL(VALUES (2)),
  NULL < ALL(SELECT * FROM (VALUES (1)) WHERE false)
))
----
%0 =
| Constant
| | types = (bool?, bool?, bool?, bool?)
| | keys = ()

%1 =
| Constant ()
| | types = ()
| | keys = ()
| Map select(%5), select(%9), select(%13), select(%17)
| | types = (bool?, bool?, bool?, bool?)
| | keys = ()
| |
| | %3 =
| | | Constant
| |
| | %4 =
| | | Constant ()
| | | Map 1
| |
| | %5 =
| | | Union %3 %4
| | | Filter false
| | | Reduce group=() all((1 < #0))
| |
| |
| | %7 =
| | | Constant
| |
| | %8 =
| | | Constant ()
| | | Map 0
| |
| | %9 =
| | | Union %7 %8
| | | Reduce group=() all((1 < #0))
| |
| |
| | %11 =
| | | Constant
| |
| | %12 =
| | | Constant ()
| | | Map 2
| |
| | %13 =
| | | Union %11 %12
| | | Reduce group=() all((1 < #0))
| |
| |
| | %15 =
| | | Constant
| |
| | %16 =
| | | Constant ()
| | | Map 1
| |
| | %17 =
| | | Union %15 %16
| | | Filter false
| | | Reduce group=() all((null < #0))
| |

%2 =
| Union %0 %1
| | types = (bool?, bool?, bool?, bool?)
| | keys = ()

EOF

query T multiline
EXPLAIN TYPED DECORRELATED PLAN FOR (VALUES (
  1 < ALL(SELECT * FROM (VALUES (1)) WHERE false),
  1 < ALL(VALUES (0)),
  1 < ALL(VALUES (2)),
  NULL < ALL(SELECT * FROM (VALUES (1)) WHERE false)
))
----
%0 =
| Constant ()
| | types = ()
| | keys = ()

%1 =
| Get %0
| | types = ()
| | keys = ()

%2 =
| Constant
| | types = (bool?, bool?, bool?, bool?)
| | keys = ()

%3 =
| Join %1 %2
| | implementation = Unimplemented
| | types = (bool?, bool?, bool?, bool?)
| | keys = ()

%4 =
| Get %0
| | types = ()
| | keys = ()

%5 =
| Constant ()
| | types = ()
| | keys = ()

%6 =
| Join %4 %5
| | implementation = Unimplemented
| | types = ()
| | keys = ()

%7 =
| Get %6
| | types = ()
| | keys = ()

%8 =
| Constant
| | types = (i32)
| | keys = ()

%9 =
| Join %7 %8
| | implementation = Unimplemented
| | types = (i32)
| | keys = ()

%10 =
| Get %6
| | types = ()
| | keys = ()

%11 =
| Constant ()
| | types = ()
| | keys = ()

%12 =
| Join %10 %11
| | implementation = Unimplemented
| | types = ()
| | keys = ()
| Map 1
| | types = (i32)
| | keys = ()

%13 =
| Union %9 %12
| | types = (i32)
| | keys = ()
| Filter false
| | types = (i32)
| | keys = ()
| Filter (!((1 < #0)) || isnull((1 < #0)))
| | types = (i32)
| | keys = ()
| Distinct group=()
| | types = ()
| | keys = ()

%14 =
| Constant (true)
| | types = (bool)
| | keys = ()

%15 =
| Join %13 %14
| | implementation = Unimplemented
| | types = (bool)
| | keys = ()

%16 =
| Get %15
| | types = (bool)
| | keys = ()

%17 =
| Get %15
| | types = (bool)
| | keys = ()
| Distinct group=()
| | types = ()
| | keys = ()
| Negate
| | types = ()
| | keys = ()

%18 =
| Get %6
| | types = ()
| | keys = ()
| Distinct group=()
| | types = ()
| | keys = ()

%19 =
| Union %17 %18
| | types = ()
| | keys = ()

%20 =
| Get %6
| | types = ()
| | keys = ()

%21 =
| Join %19 %20
| | implementation = Unimplemented
| | types = ()
| | keys = ()
| Project ()
| | types = ()
| | keys = ()

%22 =
| Constant (false)
| | types = (bool)
| | keys = ()

%23 =
| Join %21 %22
| | implementation = Unimplemented
| | types = (bool)
| | keys = ()

%24 =
| Union %16 %23
| | types = (bool)
| | keys = ()
| Map !(#0)
| | types = (bool, bool)
| | keys = ()
| Project (#1)
| | types = (bool)
| | keys = ()

%25 =
| Get %24
| | types = (bool)
| | keys = ()

%26 =
| Constant
| | types = (i32)
| | keys = ()

%27 =
| Join %25 %26
| | implementation = Unimplemented
| | types = (bool, i32)
| | keys = ()

%28 =
| Get %24
| | types = (bool)
| | keys = ()

%29 =
| Constant ()
| | types = ()
| | keys = ()

%30 =
| Join %28 %29
| | implementation = Unimplemented
| | types = (bool)
| | keys = ()
| Map 0
| | types = (bool, i32)
| | keys = ()

%31 =
| Union %27 %30
| | types = (bool, i32)
| | keys = ()
| Filter (!((1 < #1)) || isnull((1 < #1)))
| | types = (bool, i32)
| | keys = ()
| Distinct group=(#0)
| | types = (bool)
| | keys = (#0)

%32 =
| Constant (true)
| | types = (bool)
| | keys = ()

%33 =
| Join %31 %32
| | implementation = Unimplemented
| | types = (bool, bool)
| | keys = (#0)

%34 =
| Get %33
| | types = (bool, bool)
| | keys = (#0)

%35 =
| Get %33
| | types = (bool, bool)
| | keys = (#0)
| Distinct group=(#0)
| | types = (bool)
| | keys = (#0)
| Negate
| | types = (bool)
| | keys = (#0)

%36 =
| Get %24
| | types = (bool)
| | keys = ()
| Distinct group=(#0)
| | types = (bool)
| | keys = (#0)

%37 =
| Union %35 %36
| | types = (bool)
| | keys = ()

%38 =
| Get %24
| | types = (bool)
| | keys = ()

%39 =
| Join %37 %38 (= #0 #1)
| | implementation = Unimplemented
| | types = (bool, bool)
| | keys = ()
| Project (#0)
| | types = (bool)
| | keys = ()

%40 =
| Constant (false)
| | types = (bool)
| | keys = ()

%41 =
| Join %39 %40
| | implementation = Unimplemented
| | types = (bool, bool)
| | keys = ()

%42 =
| Union %34 %41
| | types = (bool, bool)
| | keys = ()
| Map !(#1)
| | types = (bool, bool, bool)
| | keys = ()
| Project (#0, #2)
| | types = (bool, bool)
| | keys = ()

%43 =
| Get %42
| | types = (bool, bool)
| | keys = ()

%44 =
| Constant
| | types = (i32)
| | keys = ()

%45 =
| Join %43 %44
| | implementation = Unimplemented
| | types = (bool, bool, i32)
| | keys = ()

%46 =
| Get %42
| | types = (bool, bool)
| | keys = ()

%47 =
| Constant ()
| | types = ()
| | keys = ()

%48 =
| Join %46 %47
| | implementation = Unimplemented
| | types = (bool, bool)
| | keys = ()
| Map 2
| | types = (bool, bool, i32)
| | keys = ()

%49 =
| Union %45 %48
| | types = (bool, bool, i32)
| | keys = ()
| Filter (!((1 < #2)) || isnull((1 < #2)))
| | types = (bool, bool, i32)
| | keys = ()
| Distinct group=(#0, #1)
| | types = (bool, bool)
| | keys = (#0, #1)

%50 =
| Constant (true)
| | types = (bool)
| | keys = ()

%51 =
| Join %49 %50
| | implementation = Unimplemented
| | types = (bool, bool, bool)
| | keys = (#0, #1)

%52 =
| Get %51
| | types = (bool, bool, bool)
| | keys = (#0, #1)

%53 =
| Get %51
| | types = (bool, bool, bool)
| | keys = (#0, #1)
| Distinct group=(#0, #1)
| | types = (bool, bool)
| | keys = (#0, #1)
| Negate
| | types = (bool, bool)
| | keys = (#0, #1)

%54 =
| Get %42
| | types = (bool, bool)
| | keys = ()
| Distinct group=(#0, #1)
| | types = (bool, bool)
| | keys = (#0, #1)

%55 =
| Union %53 %54
| | types = (bool, bool)
| | keys = ()

%56 =
| Get %42
| | types = (bool, bool)
| | keys = ()

%57 =
| Join %55 %56 (= #0 #2) (= #1 #3)
| | implementation = Unimplemented
| | types = (bool, bool, bool, bool)
| | keys = ()
| Project (#0, #1)
| | types = (bool, bool)
| | keys = ()

%58 =
| Constant (false)
| | types = (bool)
| | keys = ()

%59 =
| Join %57 %58
| | implementation = Unimplemented
| | types = (bool, bool, bool)
| | keys = ()

%60 =
| Union %52 %59
| | types = (bool, bool, bool)
| | keys = ()
| Map !(#2)
| | types = (bool, bool, bool, bool)
| | keys = ()
| Project (#0, #1, #3)
| | types = (bool, bool, bool)
| | keys = ()

%61 =
| Get %60
| | types = (bool, bool, bool)
| | keys = ()

%62 =
| Constant
| | types = (i32)
| | keys = ()

%63 =
| Join %61 %62
| | implementation = Unimplemented
| | types = (bool, bool, bool, i32)
| | keys = ()

%64 =
| Get %60
| | types = (bool, bool, bool)
| | keys = ()

%65 =
| Constant ()
| | types = ()
| | keys = ()

%66 =
| Join %64 %65
| | implementation = Unimplemented
| | types = (bool, bool, bool)
| | keys = ()
| Map 1
| | types = (bool, bool, bool, i32)
| | keys = ()

%67 =
| Union %63 %66
| | types = (bool, bool, bool, i32)
| | keys = ()
| Filter false
| | types = (bool, bool, bool, i32)
| | keys = ()
| Reduce group=(#0, #1, #2) all((null < #3))
| | types = (bool, bool, bool, bool?)
| | keys = (#0..#2)

%68 =
| Get %67
| | types = (bool, bool, bool, bool?)
| | keys = (#0..#2)

%69 =
| Get %67
| | types = (bool, bool, bool, bool?)
| | keys = (#0..#2)
| Distinct group=(#0, #1, #2)
| | types = (bool, bool, bool)
| | keys = (#0..#2)
| Negate
| | types = (bool, bool, bool)
| | keys = (#0..#2)

%70 =
| Get %60
| | types = (bool, bool, bool)
| | keys = ()
| Distinct group=(#0, #1, #2)
| | types = (bool, bool, bool)
| | keys = (#0..#2)

%71 =
| Union %69 %70
| | types = (bool, bool, bool)
| | keys = ()

%72 =
| Get %60
| | types = (bool, bool, bool)
| | keys = ()

%73 =
| Join %71 %72 (= #0 #3) (= #1 #4) (= #2 #5)
| | implementation = Unimplemented
| | types = (bool, bool, bool, bool, bool, bool)
| | keys = ()
| Project (#0..#2)
| | types = (bool, bool, bool)
| | keys = ()

%74 =
| Constant (true)
| | types = (bool?)
| | keys = ()

%75 =
| Join %73 %74
| | implementation = Unimplemented
| | types = (bool, bool, bool, bool?)
| | keys = ()

%76 =
| Union %68 %75
| | types = (bool, bool, bool, bool?)
| | keys = ()

%77 =
| Get %76
| | types = (bool, bool, bool, bool?)
| | keys = ()

%78 =
| Get %76
| | types = (bool, bool, bool, bool?)
| | keys = ()
| Distinct group=(#0, #1, #2)
| | types = (bool, bool, bool)
| | keys = (#0..#2)
| Negate
| | types = (bool, bool, bool)
| | keys = (#0..#2)

%79 =
| Get %60
| | types = (bool, bool, bool)
| | keys = ()
| Distinct group=(#0, #1, #2)
| | types = (bool, bool, bool)
| | keys = (#0..#2)

%80 =
| Union %78 %79
| | types = (bool, bool, bool)
| | keys = ()

%81 =
| Get %60
| | types = (bool, bool, bool)
| | keys = ()

%82 =
| Join %80 %81 (= #0 #3) (= #1 #4) (= #2 #5)
| | implementation = Unimplemented
| | types = (bool, bool, bool, bool, bool, bool)
| | keys = ()
| Project (#0..#2)
| | types = (bool, bool, bool)
| | keys = ()

%83 =
| Constant (null)
| | types = (bool?)
| | keys = ()

%84 =
| Join %82 %83
| | implementation = Unimplemented
| | types = (bool, bool, bool, bool?)
| | keys = ()

%85 =
| Union %77 %84
| | types = (bool, bool, bool, bool?)
| | keys = ()
| Map #3
| | types = (bool, bool, bool, bool?, bool?)
| | keys = ()
| Project (#0..#2, #4)
| | types = (bool, bool, bool, bool?)
| | keys = ()

%86 =
| Union %3 %85
| | types = (bool?, bool?, bool?, bool?)
| | keys = ()

EOF

# mode cockroach
#
# query BBBBBBBBBBBBBBB
# (VALUES (
#   1 < ALL(SELECT * FROM (VALUES (1)) WHERE false),
#   1 < ALL(VALUES (0)),
#   1 < ALL(VALUES (2)),
#   NULL < ALL(SELECT * FROM (VALUES (1)) WHERE false)
# ))
# ----
# true  false  false  true  false  false  NULL  true  NULL  NULL  NULL  NULL  NULL
